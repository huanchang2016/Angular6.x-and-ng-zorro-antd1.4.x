<div class="account">
  <div class="row">
    <nz-card class="card">
      <div class="card-title">
        <h2 class="text-center fl">
          <div class="card-title-border-top bg-primary"></div>
          <div class="card-title-content">
            <span class="card-title-bg"></span>
            <span>用户注册</span>
          </div>
        </h2>
      </div>
      <div class="card-content">
        <div nz-row>
          <div nz-col [nzSpan]="18">
            <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
              <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="username">用户名</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                  <input nz-input formControlName="username" id="username" placeholder="输入用户名/手机号码/邮箱">
                  <nz-form-explain *ngIf="validateForm.get('username').dirty && validateForm.get('username').errors">请输入用户名!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="password" nzRequired>密码</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                  <input nz-input type="password" id="password" formControlName="password" placeholder="密码由不少于6位的字母、大小写字母组成" (ngModelChange)="updateConfirmValidator()">
                  <nz-form-explain *ngIf="validateForm.get('password').dirty && validateForm.get('password').errors">请输入正确格式的密码（由不少于6位不大于16位的数字、大小写字母组成）!</nz-form-explain>
                  <div class="steps clearfix">
                    <span class="fl">密码强度:</span>
                    <nz-steps class="fl" [nzCurrent]="currentSteps" nzProgressDot nzSize="small">
                      <nz-step nzTitle="弱"></nz-step>
                      <nz-step nzTitle="中等"></nz-step>
                      <nz-step nzTitle="强"></nz-step>
                    </nz-steps>
                    <span class="showpassword primary fr" (click)="changePasswordType()">显示密码？</span>
                  </div>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="password_confirmed" nzRequired>确认密码</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                  <input nz-input type="password" formControlName="password_confirmed" placeholder="再次输入密码" id="password_confirmed">
                  <nz-form-explain *ngIf="validateForm.get('password_confirmed').dirty && validateForm.get('password_confirmed').errors">
                    <ng-container *ngIf="validateForm.get('password_confirmed').hasError('required')">
                      确认您的密码!
                    </ng-container>
                    <ng-container *ngIf="validateForm.get('password_confirmed').hasError('confirm')">
                      两次密码不相同!
                    </ng-container>
                  </nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              
              <nz-form-item>
                <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="captcha" nzRequired>验证码</nz-form-label>
                <nz-form-control [nzSm]="14" [nzXs]="24">
                  <div nz-row [nzGutter]="8">
                    <div nz-col [nzSpan]="12">
                      <input nz-input formControlName="captcha" placeholder="输入验证码" id="captcha">
                    </div>
                    <div nz-col [nzSpan]="12" class="clearfix">
                      <div class="captcha-box fl"><img [src]="'http://localhost/captcha/' + captchaSrc.url" alt=""></div>
                      <div class="changeCaptch fl">
                        看不清?<a href="javascript:;" (click)="changeCaptchImage()"><u>换一张</u></a>
                      </div>
                    </div>
                  </div>
                  <nz-form-explain *ngIf="validateForm.get('captcha').dirty && validateForm.get('captcha').errors">正确的验证码!</nz-form-explain>
                </nz-form-control>
              </nz-form-item>
              <nz-form-item nz-row style="margin-bottom:8px;">
                  <nz-form-control [nzSpan]="14" [nzOffset]="6">
                    <label nz-checkbox formControlName="agree">
                      <span>我已经阅读 <a href="javascript:;" target="_blank">xxx协议</a>,并自愿遵守该协议</span>
                    </label>
                  </nz-form-control>
                </nz-form-item>
              <nz-form-item nz-row style="margin-bottom:8px;">
                <nz-form-control [nzSpan]="14" [nzOffset]="6">
                  <button nz-button nzType="primary">立即注册</button>
                </nz-form-control>
              </nz-form-item>
            </form>
          </div>
          <div nz-col [nzSpan]="6">
            <p>已有账号，立即 <a [routerLink]="['/login']">
              <button nz-button nzType="primary">登录？</button></a></p>
          </div>
        </div>
      </div>
    </nz-card>
  </div>

</div>